mappings:
  # System layer
  - name: system-env
    src: system/etc/aila/
    dst: /etc/aila/
    sudo: true
    description: "Environment fragments and shared configuration"

  - name: system-opt
    src: system/opt/aila/
    dst: /opt/aila/
    sudo: true
    description: "Shared runtime directories and data roots"

  - name: system-logs
    src: system/var/log/aila/
    dst: /var/log/aila/
    sudo: true
    description: "Log directories with correct ownership"

  # Core cognition
  - name: aila-core
    src: aila/
    dst: /opt/aila/core/
    sudo: true
    description: "Python package with perception, planning, and interfaces"

  # Shared scripts
  - name: scripts-bin
    src: scripts/
    dst: /usr/local/bin/
    sudo: true
    description: "Administration scripts for install, deploy, and runtime"

  # Services: Monitor
  - name: monitor-systemd
    src: services/monitor/systemd/
    dst: /etc/systemd/system/
    sudo: true
    description: "Aila monitor service unit"

  - name: monitor-config
    src: services/monitor/config/
    dst: /etc/aila-monitor/
    sudo: true
    description: "Monitor configuration and dashboards"

  - name: monitor-main
    src: services/monitor/main/
    dst: /opt/aila/monitor/
    sudo: true
    description: "Monitor data collectors"

  - name: monitor-scripts
    src: services/monitor/scripts/
    dst: /opt/aila/monitor/bin/
    sudo: true
    description: "Monitor helper scripts"

exclude_file: deploy/rsync-exclude.txt

sync_policy:
  mode: mirror
  dry_run: true
  backup: true
  preserve_permissions: true
  show_progress: true
